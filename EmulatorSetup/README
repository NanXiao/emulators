
These were developed on Mac OS/Big Sur with QEMU installed. And you should
use at your own risk. No warranty. Anything that breaks, you get to
mop up and keep all the pieces.

See also: https://chrispinnock.com/stuff/running-systems-in-qemu/

You can install QEMU with homebrew. e.g. "brew install qemu".
Make sure you are running 5.2. There are issues on Sparc and Sparc64 in
5.1.

1. i386, amd64, sparc64, sparc

* Use setup-netbsd.sh to setup your VM.

./setup-netbsd.sh [arch [ver [target dir]]]

By default it will install amd64 version 9.1 in Qemu/NetBSD/
It will attempt to download the ISO from NetBSD.org.

Follow the installer. Once installed, a reboot will attempt to boot
from the CD. If you go to a shell from the installer, issue 
"shutdown -p now", the Qemu will exit along with the program. 

Then:

* Use run-netbsd.sh to run your VM under normal circumstances

./run-netbsd.sh [arch [curses [target dir]]]

By default it will run amd64 from Qemu/NetBSD in
command line curses more.

./run-netbsd.sh i386 blah
will run i386 with normal graphics.

You will need to set dhcpcd=YES in rc.conf. Then networking will work
on boot.

Sparc & Sparc64 information:
* The sparc64 bit was based on work in this article:
https://virtuallyfun.com/wordpress/2015/01/14/netbsd-6-1-5-sparc64-on-qemu/
* https://wiki.qemu.org/Documentation/Platforms/SPARC


2. arm64

* Use setup-arm64.sh to get the latest bits and pieces including 
working firmware and root filesystem. This will also resize the filesystem
to 10G
* Use run-arm64.sh to run it. Inside the script you can change the
graphics options easily if you prefer not to run headless

3. macppc (beta)

 * https://wiki.qemu.org/Documentation/Platforms/PowerPC

 This is much more involved.
 ./setup-netbsd.sh macppc  will get you booted into the installer.

 You need to get a shell, partition the file to have an HFS partition
 and a NetBSD partition. Eventually you can use the HFS partition to
 boot.

 Until then, ./run-netbsd.sh macppc will get you to an openboot prompt.
 Type: boot cd:,\ofwboot.xcf netbsd

 You will get a prompt:
 Boot:

 Type at this: netbsd.macppc root=/dev/wd0a

 You will be able to confirm the root device and use the installation
 on the hard disc. I've been unable to get the network interface to
 work.

 If I understood open firmware better, I might be able to persuade
 run-netbsd.sh to boot off the CD and use /dev/wd0a as the root device
 One way would be to create an iso image with the openbooter and
 a kernel hardwired to wd0a.

